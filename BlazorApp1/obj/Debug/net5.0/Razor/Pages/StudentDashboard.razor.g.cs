#pragma checksum "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor" "{8829d00f-11b8-4213-878b-770e8597ac16}" "81920a8956a2f12d6ceeb5afaff485f7f2bbb3fa2bf24b46e4e5c38d3e3b1f7a"
// <auto-generated/>
#pragma warning disable 1591
namespace BlazorApp1.Pages
{
    #line default
    using global::System;
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\_Imports.razor"
using System.Net.Http

#nullable disable
    ;
#nullable restore
#line 2 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\_Imports.razor"
using System.Net.Http.Json

#nullable disable
    ;
#nullable restore
#line 3 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms

#nullable disable
    ;
#nullable restore
#line 4 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing

#nullable disable
    ;
#nullable restore
#line 5 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\_Imports.razor"
using Microsoft.AspNetCore.Components.Web

#nullable disable
    ;
#nullable restore
#line 6 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization

#nullable disable
    ;
#nullable restore
#line 7 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http

#nullable disable
    ;
#nullable restore
#line 8 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\_Imports.razor"
using Microsoft.JSInterop

#nullable disable
    ;
#nullable restore
#line 9 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\_Imports.razor"
using BlazorApp1

#nullable disable
    ;
#nullable restore
#line 10 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\_Imports.razor"
using BlazorApp1.Shared

#line default
#line hidden
#nullable disable
    ;
    [global::Microsoft.AspNetCore.Components.RouteAttribute(
    // language=Route,Component
#nullable restore
#line 1 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
      "/student-dashboard/{Id:int}/{Name}/{Age:int}/{GPA:float}/{TotAchieved:int}/{Term:int}/{DepName}/{Sponser}/{College}/{Schedule:bool}"

#line default
#line hidden
#nullable disable
    )]
    #nullable restore
    public partial class StudentDashboard : global::Microsoft.AspNetCore.Components.ComponentBase
    #nullable disable
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h3 class=\"dashboard-header\">Student Dashboard</h3>\r\n\r\n");
            __builder.OpenElement(1, "div");
            __builder.AddAttribute(2, "class", "student-info");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "info-item");
            __builder.AddMarkupContent(5, "<strong>ID:</strong> ");
            __builder.AddContent(6, 
#nullable restore
#line 9 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                                 Id

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(7, "\r\n    ");
            __builder.OpenElement(8, "div");
            __builder.AddAttribute(9, "class", "info-item");
            __builder.AddMarkupContent(10, "<strong>Name:</strong> ");
            __builder.AddContent(11, 
#nullable restore
#line 10 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                                   Name

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(12, "\r\n    ");
            __builder.OpenElement(13, "div");
            __builder.AddAttribute(14, "class", "info-item");
            __builder.AddMarkupContent(15, "<strong>Age:</strong> ");
            __builder.AddContent(16, 
#nullable restore
#line 11 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                                  Age

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(17, "\r\n    ");
            __builder.OpenElement(18, "div");
            __builder.AddAttribute(19, "class", "info-item");
            __builder.AddMarkupContent(20, "<strong>GPA:</strong> ");
            __builder.AddContent(21, 
#nullable restore
#line 12 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                                  GPA

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(22, "\r\n    ");
            __builder.OpenElement(23, "div");
            __builder.AddAttribute(24, "class", "info-item");
            __builder.AddMarkupContent(25, "<strong>Total Achieved:</strong> ");
            __builder.AddContent(26, 
#nullable restore
#line 13 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                                             TotAchieved

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\r\n    ");
            __builder.OpenElement(28, "div");
            __builder.AddAttribute(29, "class", "info-item");
            __builder.AddMarkupContent(30, "<strong>Term:</strong> ");
            __builder.AddContent(31, 
#nullable restore
#line 14 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                                   Term

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(32, "\r\n    ");
            __builder.OpenElement(33, "div");
            __builder.AddAttribute(34, "class", "info-item");
            __builder.AddMarkupContent(35, "<strong>Department Name:</strong> ");
            __builder.AddContent(36, 
#nullable restore
#line 15 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                                              DepName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(37, "\r\n    ");
            __builder.OpenElement(38, "div");
            __builder.AddAttribute(39, "class", "info-item");
            __builder.AddMarkupContent(40, "<strong>Sponsor:</strong> ");
            __builder.AddContent(41, 
#nullable restore
#line 16 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                                      Sponser

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(42, "\r\n    ");
            __builder.OpenElement(43, "div");
            __builder.AddAttribute(44, "class", "info-item");
            __builder.AddMarkupContent(45, "<strong>College:</strong> ");
            __builder.AddContent(46, 
#nullable restore
#line 17 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                                      College

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(47, "\r\n\r\n");
            __builder.OpenElement(48, "div");
            __builder.AddAttribute(49, "class", "button-container");
            __builder.OpenElement(50, "button");
            __builder.AddAttribute(51, "class", "btn btn-success");
            __builder.AddAttribute(52, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 21 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                              HandleRegistration

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(53, "Online Registration");
            __builder.CloseElement();
            __builder.AddMarkupContent(54, "\r\n    ");
            __builder.OpenElement(55, "button");
            __builder.AddAttribute(56, "class", "btn btn-primary");
            __builder.AddAttribute(57, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 22 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                              HandlePrintSchedule

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(58, "Print Schedule");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(59, "\r\n\r\n");
            __builder.AddMarkupContent(60, @"<style>
    .dashboard-header {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 20px;
    }

    .student-info {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        width: 60%;
        margin: 0 auto;
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .info-item {
        font-size: 1.1em;
        color: #34495e;
        display: flex;
        justify-content: space-between;
    }

    .button-container {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
    }

    .btn-success, .btn-primary {
        padding: 10px 20px;
        font-size: 1.1em;
    }
</style>");
        }
        #pragma warning restore 1998
#nullable restore
#line 64 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
       
    [Parameter] public int Id { get; set; }
    [Parameter] public string Name { get; set; }
    [Parameter] public int Age { get; set; }
    [Parameter] public float GPA { get; set; }
    [Parameter] public int TotAchieved { get; set; }
    [Parameter] public int Term { get; set; }
    [Parameter] public string DepName { get; set; }
    [Parameter] public string Sponser { get; set; }
    [Parameter] public string College { get; set; }
    [Parameter] public bool Schedule { get; set; }

    private async Task HandleRegistration()
    {


        if (Term < 10 && DateTime.Today < new DateTime(2024, 11, 14))
        {
            try
            {

                // Fetch available courses for the student
                var schedule = await StudentConsumer.GetAvailableCourses(Id);

                // Assuming schedule is not null and contains data
                if (schedule != null)
                {

                    var registrationUrl = $"/online-registration?id={Id}&name={Name}&age={Age}&gpa={GPA}&totAchieved={TotAchieved}&term={Term}&depName={DepName}&sponser={Sponser}&college={College}&registered={Schedule}&schedule={Uri.EscapeDataString(System.Text.Json.JsonSerializer.Serialize(schedule))}"; // Pass true for schedule
                    Navigation.NavigateTo(registrationUrl);


                }
                else
                {
                    ShowNoScheduleAlert();
                }
            }
            catch (Exception ex)
            {
                // Handle any exceptions that occur while fetching the schedule
                ShowErrorAlert($"Failed to retrieve available courses: {ex.Message}");
            }
        }
        else
        {
            JS.InvokeVoidAsync("alert", "No Registration available for this student.");
        }
    }

    private async Task HandlePrintSchedule()
    {
        if (Schedule)
        {
             var schedule = await StudentConsumer.GetAvailableCourses(Id);
            // If schedule is available, navigate to the print schedule page
                var registrationUrl = $"/print-schedule?id={Id}&name={Name}&age={Age}&gpa={GPA}&totAchieved={TotAchieved}&term={Term}&depName={DepName}&sponser={Sponser}&college={College}&registered={Schedule}&schedule={Uri.EscapeDataString(System.Text.Json.JsonSerializer.Serialize(schedule))}"; // Pass true for schedule

            Navigation.NavigateTo(registrationUrl);
        }
        else
        {
            // Show an alert if no schedule is available
            ShowNoScheduleAlert();
        }
    }

    private void ShowNoScheduleAlert()
    {
        // JavaScript interop to show alert
        JS.InvokeVoidAsync("alert", "No schedule available for this student.");
    }

    private void ShowErrorAlert(string message)
    {
        JS.InvokeVoidAsync("alert", message);
    }

#line default
#line hidden
#nullable disable

        [global::Microsoft.AspNetCore.Components.InjectAttribute] private 
#nullable restore
#line 4 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
        IJSRuntime

#line default
#line hidden
#nullable disable
         
#nullable restore
#line 4 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                   JS

#line default
#line hidden
#nullable disable
         { get; set; }
         = default!;
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private 
#nullable restore
#line 3 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
        BlazorApp1.DataConsumers.StudentConsumer

#line default
#line hidden
#nullable disable
         
#nullable restore
#line 3 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                                                 StudentConsumer

#line default
#line hidden
#nullable disable
         { get; set; }
         = default!;
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private 
#nullable restore
#line 2 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
        NavigationManager

#line default
#line hidden
#nullable disable
         
#nullable restore
#line 2 "C:\Users\Mohamed El-maghraby\source\repos\BlazorApp1\BlazorApp1\Pages\StudentDashboard.razor"
                          Navigation

#line default
#line hidden
#nullable disable
         { get; set; }
         = default!;
    }
}
#pragma warning restore 1591
